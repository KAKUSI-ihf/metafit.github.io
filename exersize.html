<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body class="exersize">
    <header>
        <nav id="header-nav" class="navbar navbar-default">
            <div class="container">
                <div class="navbar-header">
                    <a href="index.html" class="pull-left visible-md visible-lg">
                        <div id="logo-img"></div>
                    </a>
                </div>
                <div class="navbar-brand">
                    <a href="index.html">
                        <h1>AI元健身 网页版 beta</h1>
                    </a>
                    <p>
                        <!-- <img src="images/star-k-logo.png" alt="Kosher certification"> -->
                        <span>一款有趣味、有专业、有温度的在线健身</span>
                    </p>
                </div>

                <div class="navbar-brand" id="user_brand">
                    <div>
                        <div id="guest-img"></div>
                        <p>
                            游客，
                        </p>
                        <p>
                            <!-- <img src="images/star-k-logo.png" alt="Kosher certification"> -->
                            <span>Welcome！</span>
                        </p>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <div class="container" id="content">
        <!-- <h1>WEBカメラの映像を表示</h1> -->
        <div class="row">
            <div class="col-sm-3 video">
                <span class="video">Video</span>
                <video id="video">
                </video>
                <button onclick="start_exercise()">
                开始锻炼吧！
            </button>
            </div>
            <div class="col-sm-6" id="coach">

            </div>

            <div class="col-sm-3">
                <div id="clock" class="textbox">
                    <p class="text-center">
                        00:00
                    </p>
                </div>

                <div id="grade" class="textbox">
                    <p class="text-center">
                        得分：<br>
                        ???
                    </p>
                </div>
            </div>
        </div>
    </div>
    <footer class="panel-footer">
        <div class="container">
            <div class="row">
                <section id="about-us" class="col-sm-4 footer-block">
                    <span>关于我们</span><br>
                    关注永雏塔菲喵<br>
                    关注永雏塔菲谢谢喵
                    <hr class="visible-xs">
                </section>
                <section id="contact" class="col-sm-4 footer-block">
                    <span>联系我们</span><br>
                    关注永雏塔菲喵<br>
                    关注永雏塔菲谢谢喵
                    <hr class="visible-xs">
                </section>
                <section id="testimonials" class="col-sm-4">
                    <p>"好好好好好"</p>
                    <p>"关注永雏塔菲喵，关注永雏塔菲谢谢喵"</p>
                </section>
            </div>
            <div class="text-center">&copy; Copyright AI元健身 2022</div>
        </div>
    </footer>
    <script>
        const video = document.getElementById("video")
        navigator.mediaDevices.getUserMedia({
            video: true,
            audio: false,
        }).then(stream => {
            video.srcObject = stream;
            video.play()
        }).catch(e => {
            console.log(e)
        })

        let minutes, seconds
        let ele = document.getElementById('clock').firstElementChild
        function start_exercise(time = 1) {
            minutes = time
            seconds = 0
            ele.innerText = `${time}:00`
            setInterval(time_reduct, 1000)
        }
        function time_reduct() {
            if (!minutes && !seconds)
                clearInterval(time_reduct)
            if (seconds) {
                seconds--
            }
            else {
                seconds = 59
                minutes--
            }
            ele.innerText = `${minutes}:${seconds}`
        }
    </script>
</body>

</html>